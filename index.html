<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Christmas Eve — Invitation</title>

  <style>
    :root{
      --bg0:#0b0c10;
      --bg1:#0f1116;
      --ink:#f4f1ea;
      --muted:rgba(244,241,234,.74);
      --line:rgba(244,241,234,.18);
      --gold:rgba(222,193,122,.95);
      --shadow:0 24px 80px rgba(0,0,0,.55);
      --radius:22px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 900px at 10% 10%, rgba(222,193,122,.10), transparent 55%),
        radial-gradient(900px 700px at 85% 20%, rgba(164,110,255,.08), transparent 55%),
        radial-gradient(1100px 900px at 70% 85%, rgba(36,196,255,.06), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    .grain{
      position:fixed;
      inset:-40%;
      pointer-events:none;
      opacity:.10;
      mix-blend-mode:overlay;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
    }

    .stage{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:24px 14px;
      position:relative;
    }

    .screen{
      width:100%;
      max-width:720px;
      display:none;
    }
    .screen.active{display:block}

    .panel{
      border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      box-shadow:var(--shadow);
      position:relative;
      overflow:hidden;
      transform: translateZ(0);
    }
    .panel::before{
      content:"";
      position:absolute;
      inset:12px;
      border-radius:calc(var(--radius) - 10px);
      border:1px solid rgba(222,193,122,.35);
      pointer-events:none;
    }

    .inner{padding:30px 18px 28px}

    .topline{
      display:flex;
      align-items:center;
      gap:12px;
      justify-content:center;
      margin-bottom:14px;
    }
    .rule{
      height:1px;
      flex:1;
      background:linear-gradient(90deg, transparent, var(--line), transparent);
      max-width:160px;
    }
    .seal{
      width:34px;height:34px;
      border-radius:999px;
      border:1px solid rgba(222,193,122,.55);
      box-shadow: 0 0 0 6px rgba(222,193,122,.08);
    }

    h1{
      text-align:center;
      font-weight:520;
      letter-spacing:.14em;
      font-size:clamp(22px,5.2vw,34px);
      margin:0 0 10px;
      text-transform:uppercase;
    }

    .toLine{
      text-align:center;
      font-size:14px;
      letter-spacing:.08em;
      margin-bottom:16px;
    }
    .toLine .name{
      display:block;
      margin-top:8px;
      color:var(--gold);
    }

    .sub{
      text-align:center;
      color:var(--muted);
      font-size:13.5px;
      line-height:1.6;
      margin-bottom:18px;
    }

    .dotline{
      height:1px;
      margin:16px 0;
      background:repeating-linear-gradient(
        90deg,
        transparent,
        transparent 10px,
        rgba(222,193,122,.22) 10px,
        rgba(222,193,122,.22) 14px
      );
    }

    .footer{
      margin-top:14px;
      padding-top:12px;
      border-top:1px solid rgba(255,255,255,.08);
      display:flex;
      justify-content:space-between;
      gap:12px;
      font-size:12.5px;
      flex-wrap:wrap;
      color: rgba(244,241,234,.80);
    }

    .actions{
      display:grid;
      gap:10px;
      margin-top:18px;
    }

    .btn{
      width:100%;
      padding:12px 16px;
      border-radius:999px;
      font-size:12px;
      letter-spacing:.22em;
      text-transform:uppercase;
      cursor:pointer;
      transform: translateZ(0);
      transition: transform .18s ease, background .18s ease, border-color .18s ease, opacity .18s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn.primary{
      border:1px solid rgba(222,193,122,.60);
      background:rgba(222,193,122,.14);
      color:var(--ink);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .btn.secondary{
      border:1px solid rgba(255,255,255,.18);
      background:transparent;
      color:rgba(244,241,234,.72);
    }
    .btn.tertiary{
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
      color:rgba(244,241,234,.82);
    }
    .btn:active{transform:scale(.985)}
    .btn[disabled]{opacity:.55; cursor:default}

    /* Input */
    .field{
      display:grid;
      gap:10px;
      margin-top: 12px;
    }
    .input{
      width:100%;
      padding:14px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: var(--ink);
      font-size: 14px;
      letter-spacing:.08em;
      outline:none;
    }
    .input:focus{
      border-color: rgba(222,193,122,.45);
      box-shadow: 0 0 0 4px rgba(222,193,122,.12);
    }
    .helper{
      text-align:center;
      color: rgba(244,241,234,.70);
      font-size: 12.5px;
      line-height:1.5;
      margin-top: 6px;
    }
    .error{
      text-align:center;
      color: rgba(255,180,180,.95);
      font-size: 12.5px;
      margin-top: 10px;
      display:none;
    }
    .error.show{display:block}

    /* Menu */
    .sectionTitle{
      text-align:center;
      font-size:12px;
      letter-spacing:.26em;
      color:var(--gold);
      margin-bottom:10px;
    }
    .list{display:grid;gap:12px}
    .item{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(180deg, rgba(18,21,29,.72), rgba(18,21,29,.45));
      position:relative;
      overflow:hidden;
    }
    .item::before{
      content:"";
      position:absolute;
      inset:-40%;
      background:
        radial-gradient(280px 160px at 18% 20%, rgba(222,193,122,.14), transparent 55%),
        radial-gradient(240px 200px at 85% 10%, rgba(255,255,255,.06), transparent 60%);
      transform: rotate(8deg);
      opacity:.9;
      pointer-events:none;
    }
    .label{
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      position:relative;
    }
    .label .name{font-size:16px;font-weight:520}
    .tag{font-size:11px;letter-spacing:.18em;color:var(--gold);text-transform:uppercase}
    .desc{margin-top:6px;font-size:13.5px;color:var(--muted);position:relative}

    @media (min-width:720px){
      .inner{padding:46px 44px 40px}
      .label .name{font-size:18px}
      .desc{font-size:14px}
    }

    /* ========= Portal transition ========= */
    .portalOverlay{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:0;
      z-index:9999;
      display:grid;
      place-items:center;
      overflow:hidden;
    }
    .portalOverlay.on{
      opacity:1;
      pointer-events:auto;
    }
    .portalOverlay .veil{
      position:absolute; inset:0;
      background:
        radial-gradient(800px 600px at 50% 45%, rgba(222,193,122,.22), transparent 60%),
        radial-gradient(900px 700px at 50% 45%, rgba(164,110,255,.10), transparent 62%),
        linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.85));
      opacity:0;
      animation: veilIn 1200ms ease forwards;
    }
    @keyframes veilIn{ to{opacity:1} }

    .portalOverlay .ring{
      width: 22vmin;
      height: 22vmin;
      min-width: 140px;
      min-height: 140px;
      border-radius:999px;
      border:1px solid rgba(222,193,122,.55);
      box-shadow:
        0 0 0 10px rgba(222,193,122,.10),
        0 0 70px rgba(222,193,122,.18),
        0 0 140px rgba(222,193,122,.12);
      opacity:0;
      transform: scale(.55);
      animation: ringGrow 1200ms cubic-bezier(.2,.85,.2,1) forwards 120ms;
    }
    .portalOverlay .ring::before{
      content:"";
      position:absolute; inset:14%;
      border-radius:999px;
      border:1px solid rgba(222,193,122,.28);
      filter: blur(.2px);
    }
    .portalOverlay .ring::after{
      content:"";
      position:absolute; inset:-35%;
      border-radius:999px;
      background: radial-gradient(circle at 50% 50%, rgba(222,193,122,.20), transparent 60%);
      filter: blur(10px);
      opacity:.9;
    }
    @keyframes ringGrow{
      0%{opacity:0; transform:scale(.55)}
      35%{opacity:1}
      100%{opacity:1; transform:scale(7.2)}
    }

    .portalOverlay .sparks{
      position:absolute;
      inset:-10%;
      opacity:0;
      animation: sparksIn 900ms ease forwards 200ms;
    }
    @keyframes sparksIn{ to{opacity:1} }

    .spark{
      position:absolute;
      width:6px;height:6px;border-radius:999px;
      background: rgba(222,193,122,.95);
      box-shadow: 0 0 16px rgba(222,193,122,.55);
      animation: floatUp 1100ms ease-in forwards;
      opacity:.95;
    }
    @keyframes floatUp{
      0%{ transform: translate3d(0, 18px, 0) scale(.8); opacity:0 }
      20%{ opacity:1 }
      100%{ transform: translate3d(0, -140px, 0) scale(1.25); opacity:0 }
    }

    .portalOverlay .caption{
      position:relative;
      text-align:center;
      padding: 0 18px;
      opacity:0;
      transform: translateY(10px);
      animation: captionIn 900ms ease forwards 260ms;
    }
    @keyframes captionIn{ to{opacity:1; transform: translateY(0)} }
    .portalOverlay .caption .small{
      font-size:12px;
      letter-spacing:.28em;
      text-transform:uppercase;
      color: rgba(244,241,234,.78);
      margin-bottom: 10px;
    }
    .portalOverlay .caption .big{
      font-size: clamp(18px, 4.6vw, 26px);
      letter-spacing:.10em;
      color: rgba(222,193,122,.96);
      text-transform: uppercase;
    }

    .fadeOutFast{ animation: fadeOutFast 420ms ease forwards; }
    @keyframes fadeOutFast{
      to{opacity:0; transform: translateY(-6px); filter: blur(2px)}
    }

    @media (prefers-reduced-motion: reduce){
      .portalOverlay{display:none !important}
    }
  </style>
</head>

<body>
  <div class="grain"></div>

  <!-- Portal transition overlay -->
  <div class="portalOverlay" id="portal" aria-hidden="true">
    <div class="veil"></div>
    <div class="sparks" id="sparks"></div>
    <div class="ring"></div>
    <div class="caption">
      <div class="small">Invitation Accepted</div>
      <div class="big">Welcome to Tonight’s Menu</div>
    </div>
  </div>

  <main class="stage">

    <!-- INVITATION -->
    <section class="screen active" id="inviteScreen">
      <div class="panel">
        <div class="inner" id="inviteInner">
          <div class="topline"><div class="rule"></div><div class="seal"></div><div class="rule"></div></div>

          <h1>Invitation</h1>

          <div class="toLine">
            To my Beloved
            <span class="name">Pearlyn Phirada Sinthuwanichsaid</span>
          </div>

          <div class="sub">
            You are warmly invited to an intimate Christmas Eve dinner.<br>
            A quiet, fine-dining experience — at home.
          </div>

          <div class="dotline"></div>

          <div class="footer">
            <div>Dinner starts at <strong>6:30 PM</strong></div>
            <div>Dress code: Cozy</div>
          </div>

          <div class="actions">
            <button class="btn primary" id="acceptBtn">Accept Invitation</button>
            <button class="btn secondary" id="declineBtn">Decline</button>
          </div>
        </div>
      </div>
    </section>

    <!-- CODE SCREEN -->
    <section class="screen" id="codeScreen">
      <div class="panel">
        <div class="inner">
          <div class="topline"><div class="rule"></div><div class="seal"></div><div class="rule"></div></div>

          <h1>Private Access</h1>

          <div class="sub">
            This menu will only be available at <strong>6:30 PM</strong>.<br>
            If you are the host, enter the access code to view it early.
          </div>

          <div class="field">
            <input class="input" id="codeInput" type="password" inputmode="text" placeholder="Enter access code" autocomplete="one-time-code" />
            <button class="btn primary" id="unlockBtn">Unlock Menu</button>
            <button class="btn tertiary" id="backBtn">Back</button>
          </div>

          <div class="helper">Tip: try again if you mistype.</div>
          <div class="error" id="codeError">Incorrect code. Please try again.</div>
        </div>
      </div>
    </section>

    <!-- MENU -->
    <section class="screen" id="menuScreen">
      <div class="panel" id="menuPanel">
        <div class="inner">
          <div class="topline"><div class="rule"></div><div class="seal"></div><div class="rule"></div></div>
          <h1>Christmas Eve Menu</h1>
          <div class="sub">Fine dining at home • Prepared with care</div>

          <div class="sectionTitle">Courses</div>
          <div class="list">
            <div class="item">
              <div class="label"><span class="name">Pan-Seared Striploin Steak</span><span class="tag">Main</span></div>
              <div class="desc">Butter-basted with rosemary, finished with chimichurri.</div>
            </div>
            <div class="item">
              <div class="label"><span class="name">Seared Salmon</span><span class="tag">Main</span></div>
              <div class="desc">Gently cooked, tender and flaky.</div>
            </div>
            <div class="item">
              <div class="label"><span class="name">Mashed Potatoes &amp; Gravy</span><span class="tag">Side</span></div>
              <div class="desc">Creamy Yukon Gold with silky beef gravy.</div>
            </div>
            <div class="item">
              <div class="label"><span class="name">Roasted Vegetables</span><span class="tag">Side</span></div>
              <div class="desc">Carrots, broccolini, king oyster mushrooms.</div>
            </div>
          </div>

          <div class="dotline"></div>

          <div class="sectionTitle">Drink Menu</div>
          <div class="list">
            <div class="item"><div class="label"><span class="name">Orange Juice</span><span class="tag">Non-Alcoholic</span></div><div class="desc">Chilled and bright.</div></div>
            <div class="item"><div class="label"><span class="name">Mogu Mogu</span><span class="tag">Non-Alcoholic</span></div><div class="desc">Fun, refreshing, and cozy.</div></div>
            <div class="item"><div class="label"><span class="name">Red Wine</span><span class="tag">Wine</span></div><div class="desc">Chaberton Red 2022.</div></div>
          </div>

          <div class="dotline"></div>

          <div class="footer">
            <div>Prepared by Chef Russell</div>
            <div>Enjoy your evening ✨</div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <script>
    // =====================
    // Settings
    // =====================
    const PASSWORD = "ABC";

    // TRUE reveal time (secret): 6:15 PM local device time
    const REVEAL_HOUR = 18;
    const REVEAL_MINUTE = 15;

    // Copy shown to guest says 6:30 PM (on purpose)
    // =====================

    const acceptBtn   = document.getElementById("acceptBtn");
    const declineBtn  = document.getElementById("declineBtn");

    const inviteScreen = document.getElementById("inviteScreen");
    const codeScreen   = document.getElementById("codeScreen");
    const menuScreen   = document.getElementById("menuScreen");

    const inviteInner = document.getElementById("inviteInner");

    const portal = document.getElementById("portal");
    const sparks = document.getElementById("sparks");

    const codeInput = document.getElementById("codeInput");
    const unlockBtn = document.getElementById("unlockBtn");
    const backBtn   = document.getElementById("backBtn");
    const codeError = document.getElementById("codeError");

    function showScreen(screenEl){
      [inviteScreen, codeScreen, menuScreen].forEach(s => s.classList.remove("active"));
      screenEl.classList.add("active");
      window.scrollTo(0,0);
    }

    function isAfterRevealTime(now = new Date()){
      const reveal = new Date(now);
      reveal.setHours(REVEAL_HOUR, REVEAL_MINUTE, 0, 0);
      return now >= reveal; // uses device local time
    }

    function spawnSparks(count = 28) {
      sparks.innerHTML = "";
      for (let i = 0; i < count; i++) {
        const s = document.createElement("div");
        s.className = "spark";
        const left = Math.random() * 100;
        const top = 55 + Math.random() * 45;
        const delay = Math.random() * 260;
        const dur = 900 + Math.random() * 500;
        const size = 4 + Math.random() * 6;

        s.style.left = left + "%";
        s.style.top = top + "%";
        s.style.width = size + "px";
        s.style.height = size + "px";
        s.style.animationDelay = delay + "ms";
        s.style.animationDuration = dur + "ms";
        sparks.appendChild(s);
      }
    }

    function runTransitionToMenu(){
      // Lock buttons
      acceptBtn.disabled = true;
      declineBtn.disabled = true;

      // Fade invitation content (if visible)
      inviteInner.classList.add("fadeOutFast");

      // Start portal overlay
      spawnSparks(30);
      portal.classList.add("on");

      // Swap to menu after ring grows
      setTimeout(() => {
        showScreen(menuScreen);

        // Remove overlay shortly after menu appears
        setTimeout(() => {
          portal.classList.remove("on");
        }, 420);
      }, 980);
    }

    // =====================
    // Behaviors
    // =====================
    declineBtn.onclick = () => {
      alert("Sorry, you still have to accept this invitation.");
    };

    acceptBtn.onclick = () => {
      codeError.classList.remove("show");
      codeInput.value = "";

      // If time has passed (>= 6:15 PM), go straight to menu transition
      if (isAfterRevealTime()) {
        runTransitionToMenu();
        return;
      }

      // Otherwise show dedicated code screen
      showScreen(codeScreen);
      setTimeout(() => codeInput.focus(), 80);
    };

    backBtn.onclick = () => {
      showScreen(inviteScreen);
    };

    function tryUnlock(){
      const entered = (codeInput.value || "").trim();
      if (entered === PASSWORD) {
        codeError.classList.remove("show");
        runTransitionToMenu();
      } else {
        codeError.classList.add("show");
        codeInput.focus();
        codeInput.select?.();
      }
    }

    unlockBtn.onclick = tryUnlock;
    codeInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") tryUnlock();
    });
  </script>
</body>
</html>
